# 清除上下文

> 来源: https://www.coze.cn/open/docs/developer_guides/clear_conversation_context

- 清除上下文 API 只是清空模型可见的消息历史，不会实际删除会话中的消息，通过 查看消息列表 或 查看消息详情 等 API 仍能查看到消息内容。 ​

- 仅支持清除本人创建的会话的上下文。 ​

- 会话、对话、消息和上下文段落的术语解释请参见 基础概念 。 ​

| 请求方式​ | POST |
| 请求地址​ | ​Plain Text复制https://api.coze.cn/v1/conversations/:conversation_id/clear​ |
| 权限​ | editConversation​确保调用该接口使用的访问令牌开通了editConversation权限，详细信息参考准备工作。​ |
| 接口说明​ | 清除指定会话中的上下文。​ |

| 参数​ | 取值​ | 说明​ |
| Authorization​ | Bearer$Access_Token​ | 用于验证客户端身份的访问令牌。你可以在扣子编程中生成访问令牌，详细信息，参考准备工作。​ |
| Content-Type​ | application/json​ | 解释请求正文的方式。​ |

| 参数​ | 类型​ | 是否必选​ | 示例​ | 说明​ |
| conversation_id​ | String​ | 必选​ | 737989918257****​ | 待清除上下文的会话 ID。你可以在发起对话接口的 Response 中通过 conversation_id 字段获取会话 ID。​ |

| 参数​ | 类型​ | 示例​ | 说明​ |
| code​ | Long​ | 0​ | 调用状态码。0 表示调用成功，其他值表示调用失败，你可以通过msg字段判断详细的错误原因。​ |
| msg​ | String​ | ""​ | 状态信息。API 调用失败时可通过此字段查看详细错误信息。​状态码为 0 时，msg 默认为空。​ |
| data​ | Object ofSection​ | { "id": "75331946251175***", "conversation_id": "737989918257****" }​ | 上下文段落（section）的详细信息。​Section 是一个独立的上下文段落，用于分隔不同的对话阶段或主题。Section 中包括上下文消息，当用户清除上下文时，系统会创建一个新的 Section，从而确保新的对话不受历史消息的影响。​ |
| detail​ | Object ofResponseDetail​ | {"logid":"20241210152726467C48D89D6DB2****"}​ | 返回的详情信息，包含本次请求的日志 ID。如果遇到异常报错场景，可以根据此日志 ID 联系技术支持获取帮助。​ |

| 参数​ | 类型​ | 示例​ | 说明​ |
| id​ | String​ | 75331946251175***​ | 新的 Session ID，即清除上下文后新创建的上下文段落（section）的 ID。​每个上下文段落对应一批独立的上下文消息。每次清除上下文时，系统会新建一个上下文段落用于存储新的上下文消息。​ |
| conversation_id​ | String​ | 737999610479815****​ | Conversation ID，即会话的唯一标识。​ |

| 参数​ | 类型​ | 示例​ | 说明​ |
| logid​ | String​ | 20241210152726467C48D89D6DB2****​ | 本次请求的日志 ID。如果遇到异常报错场景，且反复重试仍然报错，可以根据此 logid 及错误码联系扣子团队获取帮助。详细说明可参考获取帮助和技术支持。​ |