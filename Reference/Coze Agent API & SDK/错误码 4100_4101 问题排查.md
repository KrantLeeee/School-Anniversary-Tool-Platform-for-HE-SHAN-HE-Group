# 错误码 4100/4101 问题排查

> 来源: https://www.coze.cn/open/docs/developer_guides/troubleshooting_4100_4101

- 在此步骤中，检查密钥的权限、有效期和对应的工作空间。 ​

- 对于 OAuth 访问密钥，参考 ​ OAuth 应用管理 ，检查授权流程是否完整且正确。 ​

- 对于 个人访问密钥（PAT），你可以在 个人访问令牌 页面找到你使用的 PAT，并参考以下方式检查密钥。 ​

- ​ 检查项 ​ 说明 ​ 检查密钥权限 ​ 确认密钥已被授予指定接口要求的权限点，各个接口的权限点要求可参考 API 文档。例如： ​ ​ ​ ​ ​ ​ 检查密钥有效期 ​ 确认密钥未过期、状态为 有效 。 ​ ​ ​ ​ ​ ​ 检查密钥工作空间 ​ 确认密钥授权工作空间中包括你调用的、知识库所在的空间。 ​ ​ ​ ​ ​ ​ 说明 如果希望使用的、知识库位于其他人拥有的工作空间中，可以联系空间所有者获取一个有效的密钥。 ​ ​ ​

| 检查项​ | 说明​ |
| 检查密钥权限​ | 确认密钥已被授予指定接口要求的权限点，各个接口的权限点要求可参考 API 文档。例如：​​​​​​ |
| 检查密钥有效期​ | 确认密钥未过期、状态为有效。​​​​​​ |
| 检查密钥工作空间​ | 确认密钥授权工作空间中包括你调用的、知识库所在的空间。​​​​​​说明如果希望使用的、知识库位于其他人拥有的工作空间中，可以联系空间所有者获取一个有效的密钥。​​ |


- 通过对应的 API 文档，确认当前使用的访问域名正确、URL 完整，包含了所有必选的请求 Query 参数。 ​

- ​ ​ ​ ​ ​


- 确认请求 Header 中 Authorization 参数格式正确、完整、无多余字符。Authorization 参数格式为 Bearer {Access_Token} ，例如 Bearer pat_*** 。 ​

- 你也可以直接复制文档中的示例，并替换其中的访问密钥。 ​

- ​ Shell 复制 curl --location --request GET 'https:// api.coze.cn /v1/bot/get_online_info?bot_id= 7381**** ' \ ​ --header 'Authorization: Bearer pat_*** ' \ ​ ​


- 通过对应的 API 文档，确认已正确设置了请求中所有必选的参数。你也可以直接复制文档中的请求示例，并替换其中的参数值。 ​


- Response header 中的 X-Tt-Logid 字段值，例如 20240708143040790E78F9318B35A2910B 。你可以在使用 curl 发起请求时通过 -i 参数打印 Response header 完整内容。 ​

- Response Body 中的 code、msg 字段值，例如 { "code": 700012006, "msg": "access token invalid" } 。 ​