# 声纹特征比对

> 来源: https://www.coze.cn/open/docs/developer_guides/identify_voiceprint

| 限制​ | 说明​ |
| 文件格式​ | 支持的文件格式包括 wav 和 pcm。其中 pcm 仅支持 16kHz 采样率、单声道、16 位采样深度。​ |
| 文件大小​ | 每个音频文件最大为 4 MB。​ |
| 文件录制​ | 录制环境：选择安静的空间，建议将麦克风放置在离说话人 50 厘米以内的位置，尽量保持自然的发声状态，避免刻意改变声线或呢喃，这样得到的声音会更加自然。尽量减少杂音、噪音和混响的干扰。​音频质量：确保录音中只包含一个人的声音。​ |

- 录制环境：选择安静的空间，建议将麦克风放置在离说话人 50 厘米以内的位置，尽量保持自然的发声状态，避免刻意改变声线或呢喃，这样得到的声音会更加自然。尽量减少杂音、噪音和混响的干扰。 ​

- 音频质量：确保录音中只包含一个人的声音。 ​

| 请求方式​ | POST |
| 请求地址​ | ​Plain Text复制https://api.coze.cn/v1/audio/voiceprint_groups/:group_id/speaker_identify​ |
| 权限​ | identifyInVoiceprintGroup​确保调用该接口使用的个人令牌开通了identifyInVoiceprintGroup权限，详细信息参考鉴权方式。​ |
| 接口说明​ | 声纹特征比对。​ |

| 参数​ | 取值​ | 说明​ |
| Authorization​ | application/json​ | 用于验证客户端身份的访问令牌。你可以在扣子编程中生成访问令牌，详细信息，参考准备工作。​ |
| Content-Type​ | multipart/form-data​ | 文件类型。​ |

| 参数​ | 类型​ | 是否必选​ | 示例​ | 说明​ |
| group_id​ | Integer​ | 可选​ | 75143038117378***​ | 声纹所属的声纹组 ID。你可以通过查看声纹组列表API 查看声纹组 ID。​ |

| 参数​ | 类型​ | 是否必选​ | 示例​ | 说明​ |
| file​ | File​ | 必选​ | @/voice_test_data/test_1.wav;type=audio/wav​ | 上传需要进行声纹特征比对的音频文件。​ |
| top_k​ | Interger​ | 可选​ | 5​ | 返回特征匹配度最高的前 k 项结果。若未指定，则默认返回全部匹配结果。​ |
| sample_rate​ | Integer​ | 可选​ | 16000​ | 采样率，单位：Hz。当文件类型为 pcm 时需传入该参数。​默认的采样率为 16kHz。​ |
| channel​ | Integer​ | 可选​ | 1​ | 声道数，当文件类型为 pcm 时需传入该参数。​默认为单声道。​ |

| 参数​ | 类型​ | 示例​ | 说明​ |
| code​ | Long​ | 0​ | 调用状态码。0 表示调用成功，其他值表示调用失败，你可以通过 msg 字段判断详细的错误原因。​ |
| msg​ | String​ | ""​ | 状态信息。API 调用失败时可通过此字段查看详细错误信息。​状态码为 0 时，msg 默认为空。​ |
| data​ | Object ofSpeakerIdentifyData​ | [{"score":60,"feature_id":"751427391012944***","feature_desc":"妈妈的声音","feature_name":"妈妈"}]​ | 声纹匹配度列表，包含测试音频与声纹库中已有声纹的匹配信息。​ |
| detail​ | Object ofResponseDetail​ | { "logid": "202410242028595CCF353CEC86A8*****" }​ | 本次请求返回的详细信息。​ |

| 参数​ | 类型​ | 示例​ | 说明​ |
| feature_score_list​ | Array ofFeatureScore​ | {"score":60,"feature_id":"751427391012944***","feature_desc":"妈妈的声音","feature_name":"妈妈"}​ | 声纹匹配度列表，包含测试音频与声纹库中已有声纹的匹配信息。​ |

| 参数​ | 类型​ | 示例​ | 说明​ |
| score​ | Double​ | 60​ | 声纹匹配度。表示测试音频与声纹库中已有声纹的匹配程度，数值范围为 0~100，数值越高表示匹配度越高。​ |
| feature_id​ | String​ | 751427391012944***​ | 与测试音频匹配的声纹的 ID。​ |
| feature_desc​ | String​ | 妈妈的声音​ | 声纹的描述。​ |
| feature_name​ | String​ | 妈妈​ | 声纹的名称。​ |

| 参数​ | 类型​ | 示例​ | 说明​ |
| logid​ | String​ | 20241210152726467C48D89D6DB2****​ | 本次请求的日志 ID。如果遇到异常报错场景，且反复重试仍然报错，可以根据此 logid 及错误码联系扣子团队获取帮助。详细说明可参考获取帮助和技术支持。​ |