# 如何实现会话隔离

> 来源: https://www.coze.cn/open/docs/developer_guides/session_isolation

| 会话隔离级别​ | 绑定到扣子账号下​ | 绑定到扣子账号下的子级下​ |
| 区别​ | 一个扣子账号内无法隔离会话。​ | 支持在一个扣子的账号下维护多个子用户的会话。​ |
| 适用场景​ | 访问产品的用户本身拥有扣子账号。​ | 基于扣子编程 API 搭建的产品拥有自己的用户，这些用户没有扣子账号。​需要隔离这些用户之间的会话。​ |
| 鉴权方式​ | 可使用扣子编程目前支持的所有鉴权方式。详细信息可参考​鉴权方式概述。​ | 仅 OAuth 的 JWT 鉴权方式可实现会话隔离。但必须在 payload 中添加 session_name 字段。​ |
| 隔离级别​ | 渠道（默认） + 扣子账号 + Bot​ | 渠道（默认）  + 扣子账号 + Bot + session_name​ |

- 基于扣子编程 API 搭建的产品拥有自己的用户，这些用户没有扣子账号。 ​

- 需要隔离这些用户之间的会话。 ​


- 从网站的账号系统中，获取网站用户 A 和 B 的 UID。此处我们假设 UID 分别为 USER_A 和 USER_B 。 ​


- 参考 ​ OAuth JWT 授权（开发者） 文档实现 OAuth JWT 授权，并分别为用户 A 和 B 申请 JWT Token。在步骤 ​ 3 签署 JWT 中，Payload 中添加 session_name 字段，并将其设置为网站用户 A 或 B 的 UID。 ​

- 用户 A 和 B 分别对应的 JWT Token： ​

- ​ Plain Text 复制 // 用户 A 的 JWT Token ​ czs_RQOhsc7vmUzK4bNgb7hn4wqOgRBYAO6xvpFHNbnl6RiQJX3cSXSguI ahiuhwfw **** ​ ​ // 用户 B 的 JWT Token ​ czs_ DJWOEF 7vmUzK4bNgb7hn4wqOgRBYAO6xvpFHNbnl6RiQJX3cSXSguIhFDzgy**** ​ ​


- 参考 ​ 安装并使用 Chat SDK 接入 Chat SDK 时，在 ​ 步骤四：配置聊天框 中，auth 的 token 参数设置为网站用户对应的 Token，确保用户 A 和 用户 B 在和智能体对话时，分别使用的是自己的 JWT Token。 ​