# 更新终端用户的权益额度

> 来源: https://www.coze.cn/open/docs/developer_guides/update_device_quotas

- 套餐限制 ：扣子企业旗舰版。 ​

- 角色限制 ：企业超级管理员和管理员可以调用该 API。 ​

- 调用此 API 更新设备权益额度之前，需要确保企业下的设备已成功上报了设备信息，否则会导致权益额度对该设备无法生效，设备信息的配置方法可参考 设置设备信息 。 ​

| 请求方式​ | PUT |
| 请求地址​ | ​Plain Text复制https://api.coze.cn/v1/commerce/benefit/limitations/:benefit_id​ |
| 权限​ | updateBenefitLimitation​确保调用该接口使用的访问令牌开通了updateBenefitLimitation权限，详细信息参考鉴权方式。​ |
| 接口说明​ | 更新终端用户的权益额度。​ |

| 参数​ | 取值​ | 说明​ |
| Authorization​ | Bearer $Access_Token​ | 用于验证客户端身份的访问令牌。你可以在扣子编程中生成访问令牌，详细信息，参考准备工作。​ |
| Content-Type​ | application/json​ | 用于指定解析请求正文的格式，表明请求体为 JSON 格式数据。​ |

| 参数​ | 类型​ | 是否必选​ | 示例​ | 说明​ |
| benefit_id​ | String​ | 可选​ | 123​ | 权益 ID。你可以在创建设备的权益额度的返回参数中获取对应的权益 ID 的值。​ |

| 参数​ | 类型​ | 是否必选​ | 示例​ | 说明​ |
| active_mode​ | String​ | 可选​ | absolute_time​ | 激活模式，当前仅支持设置为absolute_time模式，即绝对时间。​该模式下，权益生效时间由started_at和ended_at两个时间确定。​ |
| started_at​ | Long​ | 可选​ | 1743213600​ | 该条配额规则的生效起始时间，Unixtime 时间戳格式，单位为秒。​ |
| ended_at​ | Long​ | 可选​ | 1743386400​ | 该条配额规则的生效截止时间，Unixtime 时间戳格式，单位为秒。过期后，该条配额规则会失效。​ |
| limit​ | Long​ | 可选​ | 100​ | 可用的资源点额度。​ |
| status​ | String​ | 可选​ | valid​ | 设备权益的当前状态，枚举值：​valid：（默认值）正常使用。​frozen：已冻结。​ |
| trigger_unit​ | String​ | 可选​ | day​ | 权益可用额度的重置周期，即额度按指定时间间隔恢复或重新计算：​never：不重置额度，适用于设置累计可用额度上限。​minute：以分钟为周期重置额度。​hour：以小时为周期重置额度。​day：以天为周期重置额度。​ |
| trigger_time​ | Long​ | 可选​ | 1​ | 权益额度重置周期的频率：​当trigger_unit为never时，trigger_time的值为 1，且无意义。​当trigger_unit为minute、hour或day时，trigger_time表示具体的刷新频率，例如：trigger_unit=day且trigger_time = 1，表示每日刷新配额。​ |

- valid：（默认值）正常使用。 ​

- frozen：已冻结。 ​

- never：不重置额度，适用于设置累计可用额度上限。 ​

- minute：以分钟为周期重置额度。 ​

- hour：以小时为周期重置额度。 ​

- day：以天为周期重置额度。 ​

- 当 trigger_unit 为 never 时， trigger_time 的值为 1，且无意义。 ​

- 当 trigger_unit 为 minute 、 hour 或 day 时， trigger_time 表示具体的刷新频率，例如： trigger_unit=day 且 trigger_time = 1 ，表示每日刷新配额。 ​

| 参数​ | 类型​ | 示例​ | 说明​ |
| code​ | Long​ | 0​ | 调用状态码。0 表示调用成功，其他值表示调用失败，你可以通过 msg 字段判断详细的错误原因。​ |
| msg​ | String​ | ""​ | 状态信息。API 调用失败时可通过此字段查看详细错误信息。​状态码为 0 时，msg 默认为空。​ |
| detail​ | Object ofResponseDetail​ | -​ | 响应详情信息。​ |

| 参数​ | 类型​ | 示例​ | 说明​ |
| logid​ | String​ | 20241210152726467C48D89D6DB2****​ | 本次请求的日志 ID。如果遇到异常报错场景，且反复重试仍然报错，可以根据此 logid 及错误码联系扣子团队获取帮助。详细说明可参考获取帮助和技术支持。​ |