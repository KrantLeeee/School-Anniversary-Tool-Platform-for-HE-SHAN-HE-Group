# API 介绍

> 来源: https://www.coze.cn/open/docs/developer_guides/coze_api_overview

- 个人免费版 ：免费使用 扣子编程 API，但有一定的额度限制。 ​

- 个人付费版（进阶版、高阶版、旗舰版）、企业版（企业标准版、企业旗舰版） ：涉及大模型处理的 API 会产生模型费用， 音视频的 API 也有对应功能的计费方式。 ​

| 限流策略​ | 个人免费版​ | 个人付费版​ | 企业标准版​ | 企业旗舰版​ |
| ​发起对话API 的流控​ | 20 QPS​ | 100 QPS​ | 200 QPS​ | 500 QPS​ |
| 以下关键 API 的流控：​​执行工作流​​执行工作流（流式响应）​​执行对话流​​查询工作流异步运行结果​​查询输出节点的执行结果​ | 50 QPS​ | 100 QPS​ | 200 QPS​ | 500 QPS​企业超级管理员或管理员可以扩容 API 的 QPS，具体步骤请参见​购买扩容服务。​ |
| ​上传文件API 的流控​ | 10 QPS​ | 10 QPS​ | 20 QPS​ | 20 QPS​ |
| 模型流控。​调用​发起对话、​执行工作流、​执行工作流（流式响应）、​执行对话流等涉及模型处理的 API 时，每个用户使用模型的流控。​ | 模型每分钟请求数（RPM）为 300。​ | 模型每分钟请求数（RPM）为 1000。​ | 模型每分钟请求数（RPM）为 5000。​​​ | 模型每分钟请求数（RPM）为 12000。​ |
| API调用量​ | 累计 500 次免费额度。​说明一旦累计调用次数超过免费额度，此账号将无法继续使用任何扣子编程API。API 免费额度不适用于通过扣子编程、其他发布渠道或 SDK 产生的请求。​​ | 不限​ | 不限​ | 不限​ |

- ​ 执行工作流 ​

- ​ 执行工作流（流式响应） ​

- ​ 执行对话流 ​

- ​ 查询工作流异步运行结果 ​

- ​ 查询输出节点的执行结果 ​

- 工作流相关的 API 请求体大小限制为 20MB。 ​

- 其他类类别的 API 请求体大小限制为 15MB。 ​

- Authorization ：生成的 个人访问令牌 。线上环境注意替换为 OAuth 访问密钥，详情参考 ​ OAuth 应用管理 。 ​

- bot_id ：智能体ID。进入智能体的开发页面，开发页面 URL 中 bot 参数后的数字就是智能体ID。例如 https://www.coze.cn/space/341****/bot/73428668***** ， bot_id 为 73428668***** 。 ​

- 说明 确保智能体已发布为 API 服务。详情参考 ​ 准备工作 。 ​ ​

- user_id ：标识当前与智能体交互的用户。调试时可将此参数固定为一个任意字符串，例如 123 。 ​

- content ：发送的消息内容。 ​

- ​ Shell 复制 curl --location --request POST 'https://api.coze.c n /v3/chat' \ ​ --header 'Authorization: Bearer pat_OYDacMzM3WyOWV3Dtj2bHRMymzxP**** ' \ ​ --header 'Content-Type: application/json' \ ​ --data-raw ' { ​ "bot_id": " 73428668***** " , ​ "user_id": " 123123*** " , ​ "stream": false , ​ "auto_save_history":true , ​ "additional_messages": [ ​ { ​ "role":"user" , ​ "content":" 早上好 " , ​ "content_type":"text " ​ } ​ ] ​ } ' ​ ​

- 说明 如果需要通过火山引擎私有网络访问扣子编程 API ，请参见 ​ 通过私网连接访问扣子 API 。 ​ ​

| 名词​ | 说明​ |
| 会话（Conversation）​ | 智能体和用户之间的一段问答交互。一个会话包含一条或多条消息，并且能够自动处理截断，以适应模型的上下文内容。​ |
| 消息（Message）​ | 一条由用户或智能体创建的消息，消息内容可以包括文本、图片或文件。消息以列表的形式储存在对话中。​ |
| 对话（Chat）​ | 在会话中对智能体的一次调用。智能体收到请求后，结合用户输入、通过预设的一系列工作流等配置来调用模型或工具执行指定任务。每个对话都是会话的一部分，智能体会将对话中产生的消息添加到会话中。​你可以直接发起对话，与智能体进行一次交互；也可以创建会话和消息，并在指定会话中发起对话，会话中的其他消息会作为历史消息传递给大模型。​ |
| 上下文段落（Section）​ | 在智能体对话管理中，Section 是一个独立的上下文段落，用于分隔不同的对话阶段或主题。创建会话时会生成一个 Section，Section 中包含上下文消息，当用户清除上下文时，系统会创建一个新的 Section，从而确保新的对话不受历史消息的影响。​会话、消息和上下文段落的关系如下图所示。​​​​​​ |